<div class="content-main">
  <header [className]="'content-header'" role="banner" aria-label="navigation header">
    <app-navbar></app-navbar>
  </header>

  <main [className]="'content-read-file'" role="main" aria-labelledby="application">

    <section [className]="'content-filter'" role="region" aria-labelledby="filter">
      <legend>
        <h4>{{label}}</h4>
      </legend>

      <fieldset [className]="'field-file'" aria-describedby="file-description">
        <app-input-file [labelInput]="'Upload'" (fileChange)="onFileSelected($event)"></app-input-file>
      </fieldset>

      <fieldset [className]="'field-button'">
        <app-button [namebutton]="'Extrair'" (click)="processFile()"></app-button>
      </fieldset>

      <fieldset [className]="'content-response'">
        @if(error) {
        <app-error [message]="error"></app-error>
        }
      </fieldset>

    </section>

    <section [className]="'content-table table-responsive'" role="region" aria-labelledby="data table">
      <table [className]="'table table-hover'">

        <thead [className]="'table-light'">
          @for (column of headers; track $index) {
          <th [scope]="'col'" [colSpan]="3">{{column}}</th>
          }
        </thead>

        <tbody [className]="'table-group-divider'">
          @for(item of result; track item.id) {
          <tr>
            <td [colSpan]="3">{{item.id}}</td>
            <td [colSpan]="3">{{item.Produto}}</td>
            <td [colSpan]="3">{{item.Valor}}</td>
            <td [colSpan]="3">{{item.Quantidade}}</td>
            <td [colSpan]="3">{{item['Data da compra']}}</td>
            <td [colSpan]="3">{{item['Valor para venda']}}</td>
          </tr>
          }

        </tbody>

      </table>
    </section>

  </main>


  <footer role="contentinfo" aria-label="footer"></footer>
</div>
